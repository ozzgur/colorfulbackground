<!DOCTYPE html>
<html>
  <head>
    <title>Colorful</title>
    <link href="index.css" rel="stylesheet" />
  </head>
  <body>
    <div class="container">
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
    </div>

    <script type="text/javascript">
      const timer = (ms) => new Promise((res) => setTimeout(res, ms));
      async function changeColor() {
        for (i = 1; i < 41; i++) {
          let div = document.querySelector(
            ".container > div:nth-child(" + i + ")"
          );
          let color =
            "#" +
            (0x1234560 + Math.random() * 0xffffff).toString(16).substr(1, 6);
          let textColor =
            "#" +
            (0x1234560 + Math.random() * 0xffffff).toString(16).substr(1, 6);
          div.style.backgroundColor = color;
          div.style.color = textColor;
          div.textContent = color;
          await timer(500);
        }
        setTimeout(changeColor, 500);
      }
      changeColor();
    </script>
  </body>
</html>
